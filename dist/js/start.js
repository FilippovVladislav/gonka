"use strict";(()=>{function a(){let r=[...document.querySelectorAll("img, video, picture, .lcp-text")],t=null;if(r.forEach(e=>{let i=e.getBoundingClientRect();if(i.top>=0&&i.top<window.innerHeight&&((e instanceof HTMLImageElement||e instanceof HTMLVideoElement)&&(!t||i.height>t.clientHeight)&&(t=e),e instanceof HTMLPictureElement&&e.querySelectorAll("source").forEach(c=>{let l=c instanceof HTMLSourceElement?c.dataset.srcset||c.srcset:"",d=c.type;if(l){let o=new Image;if(o.srcset=l,o.onload=()=>{let n=o.width,f=o.height;(!t||f*n>t.clientWidth*t.clientHeight)&&(t=e)},d==="image/webp"){let n=document.createElement("link");n.rel="preload",n.as="image",n.href=l,n.type="image/webp",document.head.appendChild(n)}}}),e.classList.contains("lcp-text"))){let s=i.height;(!t||s>t.clientHeight)&&(t=e)}}),t){let e=null;if(t instanceof HTMLImageElement)e=document.createElement("link"),e.rel="preload",e.as="image",e.href=t.src;else if(t instanceof HTMLVideoElement){let i=t.querySelector("source");i instanceof HTMLSourceElement&&(e=document.createElement("link"),e.rel="preload",e.as="video",e.href=i.src)}else if(t instanceof HTMLPictureElement){let i=t.querySelector("source");i instanceof HTMLSourceElement&&(e=document.createElement("link"),e.rel="preload",e.as="image",e.href=i.srcset||i.dataset.srcset,i.type==="image/webp"&&(e.type="image/webp"))}else t.classList.contains("lcp-text")&&console.log("LCP \u044D\u043B\u0435\u043C\u0435\u043D\u0442 - \u0442\u0435\u043A\u0441\u0442:",t);e&&document.head.appendChild(e)}}window.addEventListener("load",()=>{a()});})();
//# sourceMappingURL=start.js.map
